import java.util.*;
public class _11223_O_dah_dah_dah {
	public static void main(String[] args) {
		Scanner leer = new Scanner(System.in);
		String M[]={".-","-...","-.-.","-..",".","..-.","--.","....","..",".---","-.-",".-..","--","-.","---",".--.","--.-",".-.",
		"...","-","..-","...-",".--","-..-","-.--","--..","-----",".----","..---","...--","....-",".....","-....","--...","---..","----.",
		".-.-.-","--..--","..--..",".----.","-.-.--","-..-.","-.--.","-.--.-",".-...","---...","-.-.-.","-...-",".-.-.","-....-","..--.-",
		".-..-.",".--.-."};
		String D[]={".",",","?","'","!","/","(",")","&",":",";","=","+","-","_",(char)'"'+"","@"};
		int t = leer.nextInt();
		leer.nextLine();
		for (int i = 1; i <=t; i++){
			String C= leer.nextLine()+" ";
			String R="",l="",r="";
			for (int j = 0; j < C.length(); j++){
				char x=C.charAt(j);
				if(x==' '){
					if(l.length()>0){
						for (int k = 0; k < M.length; k++){
							if(M[k].equals(l)){
								if(k>=26){
								if(k>=36)R=R+r+D[k-36];
								else R=R+r+(char)(k+22);
							}else R=R+r+(char)(k+65);
							r="";break;}
						}if(r.equals(" "))break;
						l="";
					}else {if(R.length()>0)r=" ";}
				}else l+=x;
			}
			if(i>1)System.out.println();
			System.out.println("Message #"+i);
			System.out.println(R);
		}
	}
}
/*
3
... --- ...
.--- --- -...  -.. --- -. .  ..--..  ..-. .. -. . -.-.--
----- .----  ..---  ----.


3
- .... .   --.- ..- .. -.-. -.-   -... .-. --- .-- -.   ..-. --- -..-   .--- ..- -- .--. ...   --- ...- . .-.   .-   .-.. .- --.. -.--   -.. --- --.
.---- ..--- ...-- ....- ..... -.... --... ---.. ----. -----
.-.-.- --..-- ..--.. .----. -.-.-- -..-. -.--. -.--.- .-... ---... -.-.-. -...- .-.-. -....- ..--.- .-..-. .--.-.
*/