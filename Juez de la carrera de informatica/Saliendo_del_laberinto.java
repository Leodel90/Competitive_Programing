import java.util.*;
public class Saliendo_del_laberinto {
    static int L[][],n,m,x1,y1,x2,y2,a,x[],y[];
    static boolean q ;
    public static boolean Areas(int i , int j){
	  if(i!=x2 || j!=y2){
		x[a]=i;y[a]=j;a++;
		if(L[i][j]=='.'){L[i][j]=0;
        boolean a1=false,a2=false,a3=false,a4=false;
    	if(L[i-1][j]!=0&&q)a1=Areas(i-1,j);
    	if(L[i][j+1]!=0&&q)a2=Areas(i,j+1);
    	if(L[i+1][j]!=0&&q)a3=Areas(i+1,j);
    	if(L[i][j-1]!=0&&q)a4=Areas(i,j-1);
        return a1||a2||a3||a4;
    	}L[i][j]=0;
		return false;
	  }
	    q=false;
    	return true;
    }
       public static void main(String[] args) {
            Scanner leer = new Scanner (System.in);
           
            while(leer.hasNext()){
            	int t= leer.nextInt();
                 for (int u = 1; u <=t; u++){
					 n=leer.nextInt();
					 m=leer.nextInt();
					L=new int [n+2][m+2];
				     for (int i = 1; i <=n; i++) {
				    	 String cad = leer.next();
				    	 for (int j = 1; j <=m; j++) {
							L[i][j]=cad.charAt(j-1);
							}
					}
				     a=0;
				     x1=leer.nextInt()+1;
				     y1=leer.nextInt()+1;
				     x2=leer.nextInt()+1;
				     y2=leer.nextInt()+1;
				     int d=0;
				     q=true;
				     x=new int [n*m];y=new int [n*m];
				  while(!Areas(x1,y1)){
					  d++;
	                for (int i = 0; i < a; i++) 
					   L[x[i]][y[i]]='.';
				    a=0;
				  }
				  System.out.println("Laberinto #"+u+": "+d);
               }
	}

}
}
/*
13
5 5
.#...
.#.#.
.#.#.
.#.#.
...#.
0 0
4 4
4 5
.#.#.
.#.#.
.#.#.
.#.#.
0 0
0 4
9 5
..#..
..#..
#####
..#..
..###
..#..
#####
..#..
..#..
0 0
8 4
9 5
..#..
..#..
#####
..#..
..###
..#..
#####
..#..
..#..
0 0
8 1
7 7
.#...#.
.##..##
..##...
...##..
....##.
##...##
.#.....
6 0
0 6
7 7
.#...#.
.##..##
..##...
...##..
....##.
##...#.
.#.....
6 0
0 6
7 7
##...#.
.##..##
..##...
...##..
....##.
##...#.
.#....#
6 0
0 6
10 10
..........
..........
.########.
.#......#.
.#.######.
.#.#....#.
.#.#.#####
.#.#.#..#.
.#.#.#..#.
##########
8 0
8 9
17 17
#################
#...............#
#.#############.#
#.#...........#.#
#.#.#########.#.#
#.#.#.......#.#.#
#.#.#.#####.#.#.#
#.#.#.#...#.#.#.#
#.#.#.#.###.#.#.#
#.#.#.#.....#.#.#
#.#.#.#######.#.#
#.#.#.........#.#
#.#.###########.#
#.#.............#
#.###############
#................
#################
15 16
7 9
17 17
#################
#...............#
#.#############.#
#.#...........#.#
#.#.#########.#.#
#.#.#.......#.#.#
#.#.#.#####.#.#.#
#.#.#.#...#.#.#.#
#.#.#.#.###.#.#.#
#.#.#.#.....#.#.#
#.#.#.#######.#.#
#.#.#.........#.#
#.#.###########.#
#.#.............#
#.###############
#..............#.
#################
15 16
7 9
17 17
#################
#...............#
#.#############.#
#.#...........#.#
#.#.#########.#.#
#.#.#.......#.#.#
#.#.#.#####.#.#.#
#.#.#.#.#.#.#.#.#
#.#.#.#.###.#.#.#
#.#.#.#.....#.#.#
#.#.#.#######.#.#
#.#.#.........#.#
#.#.###########.#
#.#.............#
#.###############
#..............#.
#################
15 16
7 9
5 6
.##.#.
.##.#.
.##.#.
.##.#.
.##.#.
0 0
0 5
5 6
.####.
.#..#.
.#..#.
.#..#.
.#..#.
0 0
0 5

*/